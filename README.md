[![Build Status](https://travis-ci.com/pentaphobe/trowel.svg?branch=master)](https://travis-ci.com/pentaphobe/trowel)
# trowel - a library for convenient interaction with anonymous JSON data in Golang

Trowel provides a simple interface for interacting with nested anonymous data
generated by Golang's `encoding/json` package

It provides a simple wrapper for relatively safe deep inspection of these nested values.

Once you've located the field(s) needed, the final cursor must be converted back
to the type you expected (via a cast as you would normally)

Conversion to arrays/slices and maps has convenience functions

- Convert cursor to an array or map (if possible): `t.Array()`, `t.Map()`
- Convert to a scalar using regular go:

    ```go
    if value, ok := t.Get().(bool); !ok {
      panic("Something went wrong")
    }
    ```



# Example usage

```go
package main

import (
	"encoding/json"

	"github.com/pentaphobe/trowel"
)

const exampleJSON = `{
  "foo": {
    "baz": [1, "boffle", false, {
      "bling": true
    }]	
  },
	"key.with.special_characters": true
}
`

func main() {
	var obj interface{}
	err := json.Unmarshal([]byte(exampleJSON), &obj)
	if err != nil {
		panic(err)
	}

	// Wrap the object
	t := trowel.NewTrowel(obj)

  // Deep inspection
	result, err := t.Path(`.foo.baz[3].bling`)
	if err != nil {
		panic(err)
	}
	println(result.Get().(bool))

	result, err = t.Path(`."key.with.special_characters"`)
	if err != nil {
		panic(err)
	}
	println(result.Get().(bool))
}
```

